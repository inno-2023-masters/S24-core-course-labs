# Lab 6

## Deployment command + output

```sh
$ ansible-playbook playbooks/dev/app_python/main.yml 

PLAY [Deploy Python Application] ***********************************************************************************************************************************************************************************************

TASK [Gathering Facts] *********************************************************************************************************************************************************************************************************
ok: [ec2-3-86-104-229.compute-1.amazonaws.com]

TASK [docker : Apt packages updating] ******************************************************************************************************************************************************************************************
ok: [ec2-3-86-104-229.compute-1.amazonaws.com]

TASK [docker : Docker.io package updating] *************************************************************************************************************************************************************************************
ok: [ec2-3-86-104-229.compute-1.amazonaws.com]

TASK [docker : Python3-pip upgrading] ******************************************************************************************************************************************************************************************
ok: [ec2-3-86-104-229.compute-1.amazonaws.com]

TASK [docker : Upgrade pip] ****************************************************************************************************************************************************************************************************
ok: [ec2-3-86-104-229.compute-1.amazonaws.com]

TASK [docker : Install docker sdk] *********************************************************************************************************************************************************************************************
ok: [ec2-3-86-104-229.compute-1.amazonaws.com]

TASK [docker : Install docker-compose] *****************************************************************************************************************************************************************************************
ok: [ec2-3-86-104-229.compute-1.amazonaws.com]

TASK [../../../roles/web_app : Docker compose file existence] ******************************************************************************************************************************************************************
ok: [ec2-3-86-104-229.compute-1.amazonaws.com]

TASK [../../../roles/web_app : Docker container stop] **************************************************************************************************************************************************************************
skipping: [ec2-3-86-104-229.compute-1.amazonaws.com]

TASK [../../../roles/web_app : Docker images remove] ***************************************************************************************************************************************************************************
skipping: [ec2-3-86-104-229.compute-1.amazonaws.com]

TASK [../../../roles/web_app : Compose file remove] ****************************************************************************************************************************************************************************
skipping: [ec2-3-86-104-229.compute-1.amazonaws.com]

TASK [../../../roles/web_app : Create directory] *******************************************************************************************************************************************************************************
changed: [ec2-3-86-104-229.compute-1.amazonaws.com]

TASK [../../../roles/web_app : Copy template] **********************************************************************************************************************************************************************************
changed: [ec2-3-86-104-229.compute-1.amazonaws.com]

TASK [../../../roles/web_app : Stop containers] ********************************************************************************************************************************************************************************
changed: [ec2-3-86-104-229.compute-1.amazonaws.com]

TASK [../../../roles/web_app : Run docker-compose] *****************************************************************************************************************************************************************************
changed: [ec2-3-86-104-229.compute-1.amazonaws.com]

PLAY RECAP *********************************************************************************************************************************************************************************************************************
ec2-3-86-104-229.compute-1.amazonaws.com : ok=12   changed=4    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0
```

## Aws machine's docker status command + output

```sh
$ sudo docker ps

CONTAINER ID   IMAGE                                      COMMAND           CREATED         STATUS         PORTS                                                 NAMES
183f71b5cc78   batdockerivankornienko/app_python:latest   "python app.py"   2 minutes ago   Up 2 minutes   0.0.0.0:5000->5000/tcp, :::5000->5000/tcp, 8000/tcp   app_python_web_1
```
